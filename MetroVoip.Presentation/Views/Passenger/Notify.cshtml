 @{
    ViewData["Title"] = "Sürücüye Bildirim Gönder";
}

<h2>Sürücüye Bildirim Gönder</h2>

<!-- Sürücüye AJAX ile bildirim gönderme -->
<form id="notificationForm">
    <input type="hidden" name="carriageNumber" id="carriageNumber" value="3" />
    <button type="submit">3. Vagondan Bildirim Gönder</button>
</form>

<!-- jQuery ve AJAX -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script type="text/javascript">
    $(document).ready(function() {
        $("#notificationForm").on("submit", function(e) {
            e.preventDefault(); // Formun varsayılan gönderimini durduruyoruz

            var carriageNumber = $("#carriageNumber").val();

            $.ajax({
                url: '@Url.Action("NotifyDriver", "Passenger")',
                type: "POST",
                data: { carriageNumber: carriageNumber },
                success: function(response) {
                    alert("Sürücüye bildirim başarıyla gönderildi!");
                },
                error: function(xhr, status, error) {
                    alert("Bir hata oluştu: " + error);
                }
            });
        });
    });
</script>
